# PrismLM RAG 2.0 업그레이드 제안서: 2026 기술 동향 반영

**작성일:** 2026년 1월 4일
**작성자:** DevOps & AI Team, Technology Leader (Antigravity)
**문서 버전:** 1.0

---

## 1. 개요 (Executive Summary)

본 문서는 PrismLM의 현재 검색 품질 이슈(낮은 유사도, 22~23%)를 해결하고, 나아가 2026년 최신 기술 트렌드를 반영하여 서비스를 **Global State-of-the-Art (SOTA)** 수준으로 끌어올리기 위한 기술 업그레이드 전략을 담고 있습니다.

## 2. 현상 분석 및 문제점 진단

### 2.1. 핵심 문제 (The Critical Issue)

- **증상:** 사용자가 정확한 키워드로 검색해도 유사도 점수가 **0.22 (22%)** 수준으로 매우 낮게 측정됨.
- **원인 (Root Cause):** **임베딩 공간 불일치 (Embedding Space Mismatch)**
  - **과거 데이터:** Google Gemini (`text-embedding-004`, 768차원) 모델로 임베딩되어 저장됨.
  - **현재 검색:** OpenAI (`text-embedding-3-small`, 1536차원) 모델로 쿼리 벡터 생성.
  - **결과:** 서로 다른 차원과 의미 공간을 가진 두 벡터를 `Cosine Similarity`로 비교하려다 보니, 의미론적 관계가 단절됨.

### 2.2. 시사점

- 단순한 임계값(Threshold) 조정으로는 근본적인 품질 개선 불가능.
- **데이터베이스 마이그레이션(전체 재임베딩)**이 선행되지 않으면 어떤 고도화 기술도 무용지물.

---

## 3. 2026 RAG 기술 트렌드 및 전문가 제언

각 분야별 전문가 페르소나의 심층 분석 결과입니다.

### 3.1. 🔍 Retrieval Expert (검색 품질 전문가)

> "단순한 벡터 검색을 넘어, **문맥(Context) 보존**과 **하이브리드 전략**이 필수입니다."

- **Late Chunking (지연 청킹):** 문서를 먼저 자르지 않고, 전체를 임베딩 모델에 통과시킨 뒤 문맥 정보를 포함하여 청킹하는 기술. 대명사(그것, 그는) 분절 문제 해결.
- **Hybrid Search (하이브리드 검색):** Vector Search(의미) + Lexical Search(키워드/BM25) 결합. 고유명사, 에러 코드, 정확한 제품명 검색에 필수.
- **Cross-Encoder Re-ranking:** 1차 검색된 후보군을 정밀 모델로 다시 채점하여 순위 재조정.

### 3.2. 🧠 LLM/Agent Expert (추론 및 에이전트 전문가)

> "고정된 규칙(Fixed-size)이 아닌, **AI가 판단하는 청킹**으로 전환해야 합니다."

- **Agentic Chunking (에이전트 기반 청킹):** LLM이 문서를 읽어가며 의미가 변환되는 지점을 스스로 판단하여 자르는 기술. 문서 타입(논문, 계약서, 소설)에 따라 유동적으로 대응.
- **Hierarchical Indexing (계층적 인덱싱):** 검색은 작은 문장 단위(Child)로 하되, LLM에게는 그 문장이 포함된 더 큰 문맥(Parent)을 제공하여 답변 품질 향상.

### 3.3. 📏 Evaluation Expert (평가 및 최적화 전문가)

> "RAG 시스템에 **자기 검증(Self-Correction)** 능력을 부여해야 합니다."

- **Self-RAG (Self-Reflective RAG):**
  1.  **Retrieve:** 필요할 때만 검색 수행 (비용 절감)
  2.  **Critique:** 검색된 문서가 질문과 관련 있는지 스스로 판단
  3.  **Generate:** 답변 생성
  4.  **Verify:** 생성된 답변이 문서에 근거하는지 검증 (할루시네이션 방지)

---

## 4. 로드맵 및 실행 전략 (Action Plan)

PrismLM RAG 시스템을 단계별로 고도화합니다.

### Phase 1: 기반 복구 (Immediate - 즉시 실행)

- **목표:** 검색 유사도 20% → 80% 회복
- **액션:**
  1.  **전체 데이터 재임베딩 마이그레이션**: Gemini 벡터 삭제 후 OpenAI 벡터로 재생성.
  2.  임계값(Threshold) 정상화 (0.5).

### Phase 2: 검색 품질 강화 (Short-term)

- **목표:** 고유명사 및 특정 키워드 검색 정확도 향상
- **액션:**
  1.  **Hybrid Search 도입**: Supabase `pg_search` 등 활용하여 키워드 매칭 점수 합산.
  2.  **Re-ranking 도입**: 검색 결과 상위 20개에 대해 정밀 재순위화.

### Phase 3: 지능형 파이프라인 (Mid-to-Long term)

- **목표:** 문맥 이해도 향상 및 할루시네이션 제로
- **액션:**
  1.  **Agentic Chunking 적용**: 문서 업로드 시 AI가 구조 분석 후 최적 청킹 수행.
  2.  **Self-RAG 구현**: 검색 결과 및 답변의 신뢰도 자동 평가 시스템 구축.

---

## 5. 결론 (Conclusion)

현재의 PrismLM 검색 문제는 **"과거와 현재의 기술적 불일치"**에서 비롯되었습니다. 이를 해결하기 위한 **Phase 1(마이그레이션)**은 선택이 아닌 필수입니다. 이후 Phase 2, 3로 나아가며 2026년 글로벌 표준에 부합하는 지능형 RAG 서비스로 도약할 것을 제안합니다.
