# 📝 회의록: RAFT 데이터 카테고리 격리 관리

**문서 ID**: 2512281519_Category_Isolation_Meeting_Minutes
**일시**: 2025-12-28
**참석자**: 디렉터(User), Tech Lead, UX Designer, Data Engineer
**주제**: RAFT 합성 데이터의 효율적인 카테고리별 관리 방안

---

## 1. 회의 배경 및 안건

- **현재 상황**: RAFT "비행 훈련" 버튼을 통해 생성된 Q&A 데이터가 구분 없이 하나의 저장소(`raft_dataset`)에 누적되고 있음.
- **문제점**: 생성된 데이터를 카테고리별로 나누어 관리하거나, 특정 카테고리에 맞는 데이터만 필터링하여 확인하기 어려움.
- **목표**: 생성 시점부터 카테고리를 지정하고, 조회/관리 시에도 카테고리별로 격리하여 관리 편의성과 데이터 품질을 높이고자 함.

---

## 2. 전문가 의견 청취

### 👨‍💻 Tech Lead (기술 리더)

> **"데이터베이스 차원의 확실한 파티셔닝(Partitioning)이 필요합니다."**

- **진단**: 현재 `raft_dataset` 테이블은 모든 데이터를 한 바구니에 담고 있어, 나중에 데이터가 수천 건이 넘어가면 관리가 불가능해짐.
- **제안**: 테이블에 `category` 컬럼을 물리적으로 추가하고 인덱싱(Indexing)을 적용해야 함. 이를 통해 수백만 건의 데이터가 쌓여도 "마케팅" 카테고리 데이터만 0.01초 만에 조회할 수 있는 성능과 격리성을 확보해야 함.

### 🎨 UX Designer (사용자 경험 디자이너)

> **"사용자의 인지 부하를 줄이는 '맥락 기반 선택'이 핵심입니다."**

- **진단**: 사용자가 데이터를 생성할 때마다 "이게 무슨 카테고리지?" 고민하게 해선 안 됨.
- **제안**:
  1.  **자동 감지**: 사용자가 '마케팅' 문서 작업을 하다가 RAFT 툴을 켰다면, 자동으로 '마케팅' 카테고리가 선택되어 있어야 함.
  2.  **직관적 필터**: 목록 화면 상단에 탭(Tab)이나 드롭다운을 두어, "전체 보기"가 아닌 "내 카테고리만 보기"를 기본값으로 제공해야 함.

### 📊 Data Engineer (데이터 엔지니어)

> **"데이터 오염(Data Contamination) 방지가 학습 품질을 결정합니다."**

- **진단**: 서로 다른 도메인의 지식이 섞이면 AI 모델(Fine-tuned Model)이 혼란을 일으킴 (예: 요리 레시피 질문에 코딩 답변을 하는 환각 현상).
- **제안**: 카테고리별로 데이터를 섞이지 있게 관리해야만, 향후 **"카테고리 전용 전문가 AI 모델"**을 만들 수 있는 기반 데이터셋(Golden Dataset)이 됨.

---

## 3. 합의 및 결정 사항 (Action Plan)

회의 결과, **"카테고리 기반 데이터 격리 (Category Data Isolation)"** 아키텍처를 도입하기로 결정함.

### ✅ 실행 단계 (Roadmap)

1.  **Phase 1: Database Schema Changes**

    - `raft_dataset` 테이블에 `category` 컬럼 추가 (Default: '미분류')
    - 조회 성능 최적화를 위한 Database Index 생성

2.  **Phase 2: UI/UX Updates**

    - **생성 패널**: 가장 상단에 직관적인 `카테고리 선택` 드롭다운 배치
    - **목록 패널**: 카테고리별로 모아볼 수 있는 `필터링` 기능 구현

3.  **Phase 3: API Logic Update**

    - 데이터 생성 시 선택된 카테고리 태그 저장
    - 목록 조회 API에 카테고리 필터 파라미터 지원

4.  **Phase 4: Verification**
    - A 카테고리 툴에서 생성한 데이터가 B 카테고리 목록에 뜨지 않는지(격리 확인) 검증

---

## 4. 향후 기대 효과

- **관리 효율성**: 수많은 Q&A 데이터 중 원하는 주제만 즉시 확인 및 관리 가능.
- **데이터 품질**: 도메인별 고품질 데이터셋이 구축되어 향후 AI 모델 학습에 바로 활용 가능.
- **확장성**: 카테고리가 100개로 늘어나도 시스템 성능 저하 없이 운영 가능.

---

---

## 5. 긴급 이슈 및 수정 계획 (Hotfix)

### 🚨 이슈: 잘못된 "로그인 필요" 메시지 노출 심각성 인지

- **보고 내용**: 관리자 페이지에 진입했음에도 불구하고, 합성 데이터 생성 패널에서 "로그인이 필요합니다"라는 경고 메시지가 표시됨.
- **심각성**: 사용자에게 혼란을 주고, 시스템 신뢰도를 저하시키는 치명적인 UX 결함 (High Priority).
- **기술적 원인**:
  1.  **비동기 상태 불일치**: `useAuth()` 훅이 세션을 로드하는 동안(`loading: true`), UI가 이를 '비로그인'으로 잘못 판단하여 즉시 경고 메시지를 렌더링함.
  2.  **개발 환경 예외 처리 부족**: `SKIP_RAFT_AUTH` 모드일 때 실제 세션이 없더라도 관리자로 인식해야 하는데, UI 코드가 이를 처리하지 않음.

### ✅ 해결 방안

1.  **Loading State 우선 처리**: `authLoading`이 `true`인 동안에는 어떠한 경고 메시지도 띄우지 않고 로딩 스피너 유지.
2.  **개발 모드 예외 처리**: `process.env.SKIP_RAFT_AUTH`가 켜져 있으면, 실제 세션이 없어도 "시스템 관리자(Dev)"로 간주하여 패널 활성화.
3.  **Phase 2 UI 작업 시 병행 수정**: 카테고리 UI 추가 작업 시 이 버그를 최우선으로 수정하여 배포.

---

_작성자: Tech Lead_
