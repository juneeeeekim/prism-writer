# 📋 루브릭 최적화 전략: Pool vs Active 모델

**작성일**: 2026-01-03
**작성자**: PRISM Writer 팀 (feat. 수연 & 정민수)
**상태**: 계획 단계 (Planning)

---

## 1. 🎯 목표 (Objective)

루브릭 시스템의 **비용 효율성**과 **분석 품질**을 동시에 극대화하기 위해, **"선택 가능한 후보군(Pool)"**과 **"실제 분석에 쓰이는 기준(Active)"**의 개념을 분리하고 최적의 사용 전략을 시스템에 도입한다.

## 2. 🧠 핵심 개념 (Concepts)

### 2.1 The "Pool" (저장소)

- **정의**: 사용자가 수집하거나 AI가 추출한 모든 루브릭 후보.
- **최대 개수**: 20개 (시스템 하드 리밋)
- **역할**: 다양한 상황에 대비한 "무기 창고". 모든 무기를 한 번에 들고 싸울 수는 없다.

### 2.2 The "Active" (활성 기준)

- **정의**: 실제로 평가 실행(Run) 시 LLM에게 전달되는 기준.
- **권장 개수**: **10 ~ 12개** (Sweet Spot)
- **역할**: 이번 글 분석을 위해 선택된 "정예 요원".
- **이유**:
  - **인간 인지 부하**: 7개 이상 지적받으면 수정 포기 (Analysis Paralysis).
  - **LLM 주의력**: 15개 이상 넘어가면 프롬프트 뒷부분 무시 경향 (Attention Dilution).

---

## 3. 📐 이상적인 구성: The "12-Rubric Rule"

전문가 회의를 통해 도출된 가장 이상적인 12개 조합은 다음과 같다.

| 그룹                   | 개수    | 설명                               | 예시                                                        |
| :--------------------- | :------ | :--------------------------------- | :---------------------------------------------------------- |
| **🟢 Core (핵심)**     | **5개** | 글의 본질/성패를 가르는 절대 기준  | 주제 명확성, 논리적 흐름, 타겟 적합성, 근거의 질, 결론의 힘 |
| **🔵 Style (형식)**    | **4개** | 글의 매력도와 가독성을 높이는 장치 | 훅(Hook), 문체/어조, 스토리텔링, 포맷팅(가독성)             |
| **⚪ Detail (디테일)** | **3개** | 완성도를 높이는 미세 조정 (선택적) | 맞춤법, 금지어, 특정 표현, 분량 준수                        |

---

## 4. 🛠️ 구현 계획 (Implementation Tasks)

### 4.1 UI 개선 (PatternAnalysisSection.tsx)

- [ ] **카운터 업그레이드**: 단순 `n/20`에서 권장 구간 표시로 변경.
  - 예: `선택됨: 5/12 (권장) | 보관함: 20`
- [ ] **스마트 경고**: 12개를 초과하여 선택 시 "품질 저하 가능성" 툴팁/경고 표시.
  - "⚠️ 기준이 많으면 분석의 날카로움이 떨어질 수 있습니다."

### 4.2 로직 처리 (API)

- [ ] **Soft Limit**: 12개까지는 정상 처리.
- [ ] **Overload Handling**: (추후 고려) 15개 이상 선택 시, 내부적으로 2번 나눠서 호출(Batching)하거나 중요도 순으로 가중치 조정.

### 4.3 카테고리 태깅 (Future)

- [ ] 루브릭 후보 생성 시 `category` (Core/Style/Detail) 자동 분류.
- [ ] 사용자가 태그 기반으로 쉽게 5+4+3 조합을 짤 수 있도록 필터 제공.

---

## 5. 🚀 기대 효과

1.  **할루시네이션 감소**: LLM이 집중해야 할 기준이 줄어들어 정확도 상승.
2.  **평가 속도 향상**: 프롬프트 길이 감소로 인한 토큰 절약 및 속도 개선 (~20%).
3.  **사용자 만족도**: "무엇을 고쳐야 할지" 명확해짐 (선택과 집중).

---

## 📝 참고 사항

> "루브릭은 많이 모으는 게임이 아니라, 상황에 맞게 잘 버리는 게임입니다."
