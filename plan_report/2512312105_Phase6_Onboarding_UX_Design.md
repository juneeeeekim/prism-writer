# 🎯 Phase 6: 프로젝트 온보딩 UX 개선 - 설계 문서

**작성일**: 2025-12-31 21:55  
**작성자**: Tech Lead (15년차)  
**문서 ID**: PHASE6-ONBOARDING-UX-2025-1231  
**우선순위**: P2 (UX 개선)  
**예상 소요**: 4-6시간

---

## 📌 배경 및 목표

### 현재 문제

새 프로젝트 생성 후 바로 **글쓰기 탭**이 활성화되어, 사용자가 참고자료를 먼저 업로드해야 한다는 것을 인지하지 못함.

### 원하는 흐름

```
프로젝트 생성 → ① RAG 구축 (문서 업로드) → ② 글쓰기/평가/채팅
                    ↑ 먼저 보임!              ↑ 그 다음!
```

### 목표

1. 새 프로젝트 생성 시 **참고자료 탭**이 먼저 활성화
2. 문서가 없을 때 **온보딩 가이드** 표시
3. 단계별 진행 흐름 안내

---

## 🎨 UI/UX 설계

### AS-IS (현재)

```
┌─────────────────────────────────────────────────────────┐
│  💎 PRISM Writer  │  📁 프로젝트 A  │  [사용자]       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │ 탭: [📝글쓰기] [📚참고자료] [📊평가] [💬AI채팅]  │  │
│  │       ↑ 기본 선택                                 │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  글쓰기 에디터 영역                                     │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### TO-BE (개선안)

```
┌─────────────────────────────────────────────────────────┐
│  💎 PRISM Writer  │  📁 프로젝트 A  │  [사용자]       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │ 탭: [📚참고자료] [📝글쓰기] [📊평가] [💬AI채팅]  │  │
│  │       ↑ 새 프로젝트: 기본 선택!                   │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │                                                   │  │
│  │   📚 AI 코치를 위한 참고자료를 업로드하세요!     │  │
│  │                                                   │  │
│  │   Step 1: 참고자료 업로드 (현재 단계) ●────○────○ │  │
│  │   Step 2: 글쓰기                                  │  │
│  │   Step 3: 평가 및 피드백                          │  │
│  │                                                   │  │
│  │   [📄 문서 업로드하기]                            │  │
│  │                                                   │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 📋 구현 체크리스트

### Phase 6.1: 탭 순서 변경

- [x] **P6-01-A**: 탭 순서 변경 ✅ COMPLETED (2025-12-31 22:05)\r\n - `Target`: `frontend/src/components/Assistant/AssistantPanel.tsx`\r\n - `변경 내용`:\r\n - 탭 순서: 참고자료 → 목차 → AI채팅 → 평가\r\n - 기본 탭: `reference`로 변경\r\n - TypeScript 타입 체크: 0개 오류
  - `Target`: `frontend/src/components/Editor/AssistantPanel.tsx`
  - `Logic`:
    ```typescript
    // 탭 순서 변경: 참고자료 → 글쓰기 → 평가 → AI채팅
    const tabs = [
      { id: "reference", label: "📚 참고자료", icon: BookIcon },
      { id: "writing", label: "📝 글쓰기", icon: PenIcon },
      { id: "evaluation", label: "📊 평가", icon: ChartIcon },
      { id: "chat", label: "💬 AI채팅", icon: ChatIcon },
    ];
    ```

### Phase 6.2: 새 프로젝트 온보딩

- [x] **P6-02-A**: 문서 없음 상태 감지 ✅ COMPLETED (2025-12-31 22:30)
  - `Actual Target`: `frontend/src/components/Assistant/Studio/ReferenceStudioContainer.tsx`
  - `구현 내용`:
    - `useDocumentStatus()`에서 `isLoading` 추출
    - `isNewProject = !isLoading && documents.length === 0` 조건 추가
    - 온보딩 가이드 조건부 렌더링
  - TypeScript 컴파일: 오류 0개

- [x] **P6-02-B**: 온보딩 가이드 컴포넌트 생성 ✅ COMPLETED (2025-12-31 22:30)
  - `Actual Target`: `frontend/src/components/Assistant/Studio/OnboardingGuide.tsx` [NEW]
  - `구현 내용`:
    - 3단계 StepIndicator 컴포넌트
    - DocumentUploader 통합
    - 반응형 UI (다크모드 지원)
    - step별 다른 UI/메시지 (1: 업로드, 2: 학습 중, 3: 완료)
  - TypeScript 컴파일: 오류 0개

### Phase 6.3: 새 프로젝트 기본 탭 설정

- [x] **P6-03-A**: URL 파라미터로 기본 탭 결정 ✅ COMPLETED (2025-12-31 22:50)
  - `Target`: `frontend/src/app/editor/page.tsx`, `AssistantPanel.tsx`
  - `구현 내용`:
    - editor/page.tsx에서 `new=true` 파라미터 확인
    - AssistantPanel에 `defaultTab` prop 추가
    - 새 프로젝트: 참고자료 탭, 기존 프로젝트: 목차 탭
  - TypeScript 컴파일: 오류 0개

- [x] **P6-03-B**: 프로젝트 생성 후 라우팅 수정 ✅ COMPLETED (2025-12-31 22:35)
  - `Target`: `frontend/src/app/dashboard/page.tsx`
  - `구현 내용`:
    - `handleCreateProject` 함수에서 라우팅 URL에 `&new=true` 파라미터 추가
    - 주석으로 Phase 6.3-B 표시
  - TypeScript 컴파일: 오류 0개

---

## 🔄 실행 순서 및 기존 문서와의 관계

### 현재 문서들의 상태

| 문서                              | 내용                      | 현재 상태                    |
| --------------------------------- | ------------------------- | ---------------------------- |
| `MultiProject_Remaining`          | Phase 5 마무리 (DB, API)  | ✅ **완료** (2025-12-31)     |
| `Refactoring_Followup`            | Critical 이슈 해결 + 성능 | ⏳ 대기 중                   |
| **`Phase6_Onboarding_UX`** (신규) | 온보딩 UX 개선            | ✅ **완료** (2025-12-31)     |

### 실행 현황 (업데이트됨)

```
┌─────────────────────────────────────────────────────────────┐
│  ① MultiProject_Remaining ✅ 완료                           │
│     ├─ [x] Phase 1: Supabase 마이그레이션 ✅                │
│     ├─ [x] Phase 2: API 수정 ✅                             │
│     └─ [x] Phase 3: 하위 호환성 테스트 (TEST-01~04) ✅       │
├─────────────────────────────────────────────────────────────┤
│  ② Phase6_Onboarding_UX ✅ 완료                             │
│     ├─ [x] Phase 6.1: 탭 순서 변경 ✅                       │
│     ├─ [x] Phase 6.2: 새 프로젝트 온보딩 ✅                 │
│     └─ [x] Phase 6.3: 새 프로젝트 기본 탭 설정 ✅           │
├─────────────────────────────────────────────────────────────┤
│  ③ Refactoring_Followup (나중에)                           │
│     ├─ P1: Critical 이슈 해결 (406/500 에러)                │
│     ├─ P2: 성능 최적화 (Chat TTFT)                          │
│     └─ P3: 기능 확장 (Template Builder, Gate-Keeper)        │
└─────────────────────────────────────────────────────────────┘
```

### 이유

1. **MultiProject 먼저**: 멀티 프로젝트 기능이 동작해야 온보딩 UX도 의미가 있음
2. **Onboarding UX 다음**: 사용자 경험 개선이 시급 (디렉터님 요청)
3. **Refactoring_Followup 나중에**: Critical 이슈가 현재 서비스 운영에 큰 영향 없음

---

## ✅ Definition of Done

### 빌드 테스트

- [x] `npx tsc --noEmit` 에러 0개 ✅ (2025-12-31)
- [ ] `npm run build` 성공 (수동 확인 필요)

### 기능 테스트

- [x] 새 프로젝트 생성 → 참고자료 탭 자동 선택 ✅ (코드 구현 완료)
- [x] 문서 없을 때 온보딩 가이드 표시 ✅ (코드 구현 완료)
- [x] 문서 업로드 후 온보딩 가이드 사라짐 ✅ (코드 구현 완료)
- [x] 탭 순서: 참고자료 → 목차 제안 → AI채팅 → 평가 ✅ (코드 구현 완료)

### 회귀 테스트

- [x] 기존 프로젝트에서는 목차 탭 기본 선택 ✅ (코드 구현 완료)
- [ ] 모든 탭 정상 동작 (수동 확인 필요)

---

## 🎨 스타일 가이드

### 온보딩 가이드 컬러 (최종 적용)

> ✅ **디렉터님 승인**: 차분하고 모던한 스타일로 구현 (2025-12-31)

```tailwind
/* 라이트 모드 */
bg-gradient-to-br from-indigo-50 via-white to-purple-50

/* 다크 모드 */
dark:from-gray-900 dark:via-gray-800 dark:to-indigo-950
```

### StepIndicator 스타일

```tailwind
/* 활성 스텝 */
bg-indigo-600 text-white ring-4 ring-indigo-100

/* 완료 스텝 */
bg-green-500 text-white

/* 비활성 스텝 */
bg-gray-200 text-gray-500
```

---

## 📊 실제 소요 시간 (완료)

| Phase    | 작업                   | 예상 시간   | 실제 시간   |
| -------- | ---------------------- | ----------- | ----------- |
| 6.1      | 탭 순서 변경           | 30분        | ✅ 완료     |
| 6.2      | 온보딩 가이드 컴포넌트 | 2시간       | ✅ 완료     |
| 6.3      | 새 프로젝트 기본 탭    | 1시간       | ✅ 완료     |
| 검증     | TypeScript 검증        | 1시간       | ✅ 0개 오류 |
| **총계** |                        | **4-5시간** | ✅ **완료** |

---

> **작성자**: Tech Lead
> **검토 완료**: 디렉터님 ✅
> **버전**: v1.1 (2025-12-31 23:00)
> **상태**: ✅ **구현 완료**
