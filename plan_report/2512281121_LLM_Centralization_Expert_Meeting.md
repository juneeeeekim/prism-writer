# ğŸ›ï¸ LLM ëª¨ë¸ ì¤‘ì•™í™” ì „ë¬¸ê°€ íšŒì˜ë¡

ğŸ“… **ì¼ì‹œ**: 2025ë…„ 12ì›” 28ì¼ 11:21 KST  
ğŸ“ **ì¥ì†Œ**: PRISM Writer ê¸°ìˆ  ì•„í‚¤í…ì²˜ íšŒì˜ì‹¤ (Virtual)  
ğŸ¯ **ì£¼ì œ**: LLM ëª¨ë¸ ì ìš© ë° ê´€ë¦¬ì˜ ì¤‘ì•™í™” (Centralized LLM Model Management)  
ğŸ“ **ê¸°ë¡**: AI ê¸°ìˆ  ë¦¬ë”

---

## ğŸ“‹ íšŒì˜ ì•ˆê±´

1. í˜„ì¬ LLM ëª¨ë¸ ê´€ë¦¬ í˜„í™© ë¶„ì„
2. ì¤‘ì•™í™”ì˜ ê°€ëŠ¥ì„± ë° ê¸°ìˆ ì  íƒ€ë‹¹ì„± ê²€í† 
3. ì¤‘ì•™í™” ì‹œ ì¥ì  ë° ìœ„í—˜ ìš”ì†Œ ë¶„ì„
4. ëŒ€ê¸°ì—… ë° íƒ€ì‚¬ ë ˆí¼ëŸ°ìŠ¤ ì¡°ì‚¬
5. ìµœì ì˜ ì¤‘ì•™í™” ì•„í‚¤í…ì²˜ ì„¤ê³„
6. íˆ¬í‘œ ë° ê²°ë¡  ë„ì¶œ

---

## ğŸ‘¥ ì°¸ì„ì ë° ìê¸°ì†Œê°œ

### ğŸ”µ Dr. Alex Chen - **ì‹œìŠ¤í…œ ì•„í‚¤í…íŠ¸**

> "ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œê³¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ì „ë¬¸ê°€ Alexì…ë‹ˆë‹¤. 10ë…„ê°„ Netflix, Spotify ë“±ì—ì„œ ëŒ€ê·œëª¨ ì„¤ì • ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì„¤ê³„í•´ì™”ìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ ì´ ìë¦¬ì—ì„œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê´€ì ì—ì„œ ì¤‘ì•™í™”ì˜ ì¥ë‹¨ì ì„ ë¶„ì„í•˜ê² ìŠµë‹ˆë‹¤."

### ğŸŸ¢ Sarah Kim - **MLOps ì—”ì§€ë‹ˆì–´**

> "ë°˜ê°‘ìŠµë‹ˆë‹¤. MLOpsì™€ LLMOps ë¶„ì•¼ì—ì„œ 5ë…„ê°„ ì¼í•´ì˜¨ Sarahì…ë‹ˆë‹¤. OpenAI, Anthropic, Google AI ë“± ë‹¤ì–‘í•œ LLM í”„ë¡œë°”ì´ë”ì™€ì˜ í†µí•© ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. ìš´ì˜ ê´€ì ì—ì„œ ì¤‘ì•™í™”ê°€ ê°€ì ¸ì˜¬ ì‹¤ì§ˆì ì¸ ì´ì ì„ ê³µìœ ë“œë¦¬ê² ìŠµë‹ˆë‹¤."

### ğŸŸ¡ Marcus Lee - **ë³´ì•ˆ ì—”ì§€ë‹ˆì–´**

> "ë³´ì•ˆ ì—”ì§€ë‹ˆì–´ Marcusì…ë‹ˆë‹¤. OWASP LLM Top 10 ë³´ì•ˆ ì·¨ì•½ì  ëŒ€ì‘ ê²½í—˜ì´ ìˆìœ¼ë©°, API í‚¤ ê´€ë¦¬ì™€ ì ‘ê·¼ ì œì–´ ì‹œìŠ¤í…œ ì„¤ê³„ë¥¼ ë‹´ë‹¹í•´ì™”ìŠµë‹ˆë‹¤. ì¤‘ì•™í™” ì‹œ ë³´ì•ˆ ê´€ì ì—ì„œì˜ ê³ ë ¤ì‚¬í•­ì„ ì§šì–´ë“œë¦¬ê² ìŠµë‹ˆë‹¤."

### ğŸŸ£ Dr. Emma Park - **ë¹„ìš© ìµœì í™” ì „ë¬¸ê°€**

> "ì•ˆë…•í•˜ì„¸ìš”, FinOpsì™€ í´ë¼ìš°ë“œ ë¹„ìš© ìµœì í™” ì „ë¬¸ê°€ Emmaì…ë‹ˆë‹¤. LLM ë¹„ìš©ì´ ì„œë¹„ìŠ¤ ìš´ì˜ë¹„ì˜ ìƒë‹¹ ë¶€ë¶„ì„ ì°¨ì§€í•˜ëŠ” ìš”ì¦˜, ì¤‘ì•™í™”ê°€ ë¹„ìš© ê´€ë¦¬ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ë¶„ì„ë“œë¦¬ê² ìŠµë‹ˆë‹¤."

### ğŸ”´ James Wang - **ë ˆë“œíŒ€ ë¦¬ë” / Devil's Advocate**

> "ë ˆë“œíŒ€ ë¦¬ë” Jamesì…ë‹ˆë‹¤. ì €ëŠ” ì˜ë„ì ìœ¼ë¡œ ë°˜ëŒ€ ì˜ê²¬ì„ ì œì‹œí•˜ì—¬ ê²°ì •ì˜ ê²¬ê³ í•¨ì„ ê²€ì¦í•˜ëŠ” ì—­í• ì„ ë§¡ê³  ìˆìŠµë‹ˆë‹¤. ì˜¤ëŠ˜ë„ ë‚ ì¹´ë¡œìš´ ì§ˆë¬¸ìœ¼ë¡œ ë…¼ì˜ë¥¼ ë”ìš± ì‹¬í™”ì‹œí‚¤ê² ìŠµë‹ˆë‹¤."

---

## ğŸ” í˜„í™© ë¶„ì„ (Current State Analysis)

### í˜„ì¬ PRISM Writerì˜ LLM ì„¤ì • êµ¬ì¡°

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ models.ts            # âœ… LLM ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ (ë¶€ë¶„ ì¤‘ì•™í™”)
â”‚   â”‚   â”œâ”€â”€ embedding-models.ts  # âœ… ì„ë² ë”© ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”‚   â”‚   â”œâ”€â”€ llm.config.ts        # âœ… LLM í™˜ê²½ì„¤ì •
â”‚   â”‚   â””â”€â”€ featureFlags.ts      # âš ï¸ ê¸°ëŠ¥ í”Œë˜ê·¸
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â”‚   â”œâ”€â”€ gateway.ts       # âœ… LLM í†µí•© ê²Œì´íŠ¸ì›¨ì´
â”‚   â”‚   â”‚   â”œâ”€â”€ providers/       # âœ… Provider ì¶”ìƒí™”
â”‚   â”‚   â”‚   â””â”€â”€ modelSelector.ts # âš ï¸ ëª¨ë¸ ì„ íƒ ë¡œì§
â”‚   â”‚   â””â”€â”€ rag/
â”‚   â”‚       â”œâ”€â”€ reranker.ts      # âš ï¸ í•˜ë“œì½”ë”©ëœ ëª¨ë¸ ì°¸ì¡°
â”‚   â”‚       â”œâ”€â”€ templateGates.ts # âš ï¸ í•˜ë“œì½”ë”©ëœ ëª¨ë¸ ì°¸ì¡°
â”‚   â”‚       â”œâ”€â”€ exampleMiner.ts  # âš ï¸ í•˜ë“œì½”ë”©ëœ ëª¨ë¸ ì°¸ì¡°
â”‚   â”‚       â””â”€â”€ ruleMiner.ts     # âš ï¸ í•˜ë“œì½”ë”©ëœ ëª¨ë¸ ì°¸ì¡°
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ rag.ts               # âš ï¸ RouterConfigì— ëª¨ë¸ëª… ë¶„ì‚°
```

### ë°œê²¬ëœ ë¬¸ì œì 

| íŒŒì¼                   | ë¬¸ì œ                                                | ì˜í–¥ë„    |
| ---------------------- | --------------------------------------------------- | --------- |
| `rag/reranker.ts`      | `DEFAULT_MODEL = 'gemini-3-flash-preview'` í•˜ë“œì½”ë”© | ğŸ”´ High   |
| `rag/templateGates.ts` | ì—¬ëŸ¬ ê³³ì— `gemini-3-flash-preview` ì§ì ‘ ì°¸ì¡°        | ğŸ”´ High   |
| `rag/exampleMiner.ts`  | `model: 'gemini-3-flash-preview'` ì§ì ‘ ì§€ì •         | ğŸŸ¡ Medium |
| `rag/ruleMiner.ts`     | `model: 'gemini-3-flash-preview'` ì§ì ‘ ì§€ì •         | ğŸŸ¡ Medium |
| `types/rag.ts`         | `premiumModel = 'gemini-3-pro-preview'` í•˜ë“œì½”ë”©    | ğŸŸ¡ Medium |

---

## ğŸ’¡ ì „ë¬¸ê°€ ì•„ì´ë””ì–´ ì œì¶œ

### ğŸ”µ Dr. Alex Chen (ì‹œìŠ¤í…œ ì•„í‚¤í…íŠ¸)

#### ì œì•ˆ: **Unified Model Registry with Role-Based Configuration**

```typescript
// ì œì•ˆ: config/llm-registry.ts
export const LLM_REGISTRY = {
  // ëª¨ë¸ ì •ì˜
  models: {
    "gemini-3-flash-preview": {
      /* ... */
    },
    "gemini-3-pro-preview": {
      /* ... */
    },
  },

  // ì—­í• ë³„ ë§¤í•‘ (í•µì‹¬!)
  roleMapping: {
    "rag.answer": "gemini-3-flash-preview",
    "rag.reviewer": "gemini-3-flash-preview",
    "rag.reranking": "gemini-3-flash-preview",
    "template.extraction": "gemini-3-flash-preview",
    "example.mining": "gemini-3-flash-preview",
    "rule.mining": "gemini-3-flash-preview",
    "premium.answer": "gemini-3-pro-preview",
    "premium.reviewer": "gemini-3-pro-preview",
  },

  // í‹°ì–´ë³„ ê¸°ë³¸ê°’
  tierDefaults: {
    free: { answer: "gemini-3-flash-preview", reviewer: null },
    standard: {
      answer: "gemini-3-flash-preview",
      reviewer: "gemini-3-flash-preview",
    },
    premium: {
      answer: "gemini-3-pro-preview",
      reviewer: "gemini-3-pro-preview",
    },
  },
};
```

**ì¥ì **:

- í•œ íŒŒì¼ì—ì„œ ëª¨ë“  ì—­í• -ëª¨ë¸ ë§¤í•‘ì„ í™•ì¸ ê°€ëŠ¥
- ì—­í•  ê¸°ë°˜ ì¶”ìƒí™”ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ëª¨ë¸ ì„ íƒ ë¶„ë¦¬
- A/B í…ŒìŠ¤íŠ¸ë‚˜ ëª¨ë¸ êµì²´ ì‹œ ë‹¨ì¼ íŒŒì¼ë§Œ ìˆ˜ì •

---

### ğŸŸ¢ Sarah Kim (MLOps ì—”ì§€ë‹ˆì–´)

#### ì œì•ˆ: **Environment-Driven Configuration with Fallback Chain**

```typescript
// ì œì•ˆ: config/model-orchestrator.ts
export interface ModelOrchestrator {
  // ìš°ì„ ìˆœìœ„: ENV â†’ Config â†’ Default
  getModel(role: ModelRole): string {
    return (
      process.env[`MODEL_${role.toUpperCase()}`] ||
      this.configuredModels[role] ||
      this.defaultModel
    );
  }

  // Fallback Chain ì •ì˜
  fallbackChains: {
    "gemini-3-pro-preview": ["gemini-3-flash-preview", "gpt-5-mini"],
    "gpt-5.2": ["gpt-5-mini", "gemini-3-flash-preview"],
  }
}
```

**ì¥ì **:

- ë°°í¬ í™˜ê²½ë³„(dev/staging/prod) ë‹¤ë¥¸ ëª¨ë¸ ì‚¬ìš© ê°€ëŠ¥
- ëª¨ë¸ ì¥ì•  ì‹œ ìë™ í´ë°±ìœ¼ë¡œ ì„œë¹„ìŠ¤ ì—°ì†ì„± ë³´ì¥
- CI/CD íŒŒì´í”„ë¼ì¸ì—ì„œ í™˜ê²½ ë³€ìˆ˜ë§Œìœ¼ë¡œ ëª¨ë¸ ì „í™˜ ê°€ëŠ¥

---

### ğŸŸ¡ Marcus Lee (ë³´ì•ˆ ì—”ì§€ë‹ˆì–´)

#### ì œì•ˆ: **Centralized API Key Vault with Model Binding**

```typescript
// ì œì•ˆ: lib/llm/secure-registry.ts
export class SecureModelRegistry {
  // ëª¨ë¸-API í‚¤ ë§¤í•‘ (Vaultì—ì„œ ë¡œë“œ)
  private static keyBindings: Map<string, SecureKey>;

  // ëª¨ë¸ ì‚¬ìš© ì‹œ ìë™ìœ¼ë¡œ ì˜¬ë°”ë¥¸ í‚¤ ì£¼ì…
  static getModelWithCredentials(role: ModelRole): AuthenticatedModel {
    const modelId = this.getModelForRole(role);
    const key = this.keyBindings.get(this.getProvider(modelId));
    return { modelId, credentials: key };
  }

  // ì ‘ê·¼ ë¡œê¹… (ê°ì‚¬ ì¶”ì )
  static auditLog(userId: string, role: ModelRole, modelId: string): void;
}
```

**ì¥ì **:

- API í‚¤ì™€ ëª¨ë¸ ì„¤ì •ì˜ ì¼ì›í™”ë¡œ ë³´ì•ˆ ê°•í™”
- ì ‘ê·¼ ë¡œê·¸ ì¤‘ì•™í™”ë¡œ ê°ì‚¬(Audit) ìš©ì´
- ê¶Œí•œ ê¸°ë°˜ ëª¨ë¸ ì ‘ê·¼ ì œì–´ ê°€ëŠ¥

---

### ğŸŸ£ Dr. Emma Park (ë¹„ìš© ìµœì í™” ì „ë¬¸ê°€)

#### ì œì•ˆ: **Cost-Aware Model Router with Budget Controls**

```typescript
// ì œì•ˆ: config/cost-registry.ts
export const COST_OPTIMIZED_REGISTRY = {
  models: MODEL_REGISTRY, // ê¸°ì¡´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì¬ì‚¬ìš©

  // ë¹„ìš© ì œì–´ ì •ì±…
  budgetPolicies: {
    daily: { limit: 100, currency: "USD" },
    perUser: { limit: 1, currency: "USD" },
  },

  // ë¹„ìš© ê¸°ë°˜ ìë™ ëª¨ë¸ ì„ íƒ
  costOptimizedSelection(role: ModelRole, budget: Budget): string {
    const candidates = this.getModelsForRole(role);
    return candidates
      .filter((m) => this.estimateCost(m) <= budget.remaining)
      .sort((a, b) => this.qualityScore(b) - this.qualityScore(a))[0];
  },
};
```

**ì¥ì **:

- ëª¨ë¸ ë¹„ìš©ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ì—¬ ì˜ˆì‚° ì´ˆê³¼ ë°©ì§€
- ë¹„ìš©-í’ˆì§ˆ íŠ¸ë ˆì´ë“œì˜¤í”„ ìë™í™”
- ì‹¤ì‹œê°„ ë¹„ìš© ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ê°€ëŠ¥

---

## âš”ï¸ ë ˆë“œíŒ€ í‰ê°€ (Red Team Review)

### ğŸ”´ James Wang (ë ˆë“œíŒ€ ë¦¬ë”)

#### Alexì˜ ì œì•ˆì— ëŒ€í•œ ì§ˆë¬¸:

> "ì—­í• ë³„ ë§¤í•‘ì´ ì •ì ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆë‹¤ë©´, ëŸ°íƒ€ì„ì— íŠ¹ì • ì‚¬ìš©ìì—ê²Œë§Œ ë‹¤ë¥¸ ëª¨ë¸ì„ ì ìš©í•˜ëŠ” ì‹¤í—˜ì€ ì–´ë–»ê²Œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"

**Alex ì‘ë‹µ**:

> "ì¢‹ì€ ì§€ì ì…ë‹ˆë‹¤. `roleMapping`ì„ í•¨ìˆ˜ í˜•íƒœë¡œ ë³€ê²½í•˜ì—¬ ëŸ°íƒ€ì„ ì»¨í…ìŠ¤íŠ¸(ì‚¬ìš©ì ID, ì‹¤í—˜ ê·¸ë£¹ ë“±)ë¥¼ ë°›ì•„ ë™ì ìœ¼ë¡œ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

#### Sarahì˜ ì œì•ˆì— ëŒ€í•œ ì§ˆë¬¸:

> "í™˜ê²½ ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì •ì€ ì„¤ì • drift ë¬¸ì œë¥¼ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ì™€ ì½”ë“œì˜ ê¸°ë³¸ê°’ì´ ë‹¬ë¼ì§€ë©´ ì¶”ì ì´ ì–´ë ¤ì›Œì§€ì§€ ì•Šì„ê¹Œìš”?"

**Sarah ì‘ë‹µ**:

> "ìœ íš¨í•œ ìš°ë ¤ì…ë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¶€íŒ… ì‹œ ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ë¥¼ ë¡œê¹…í•˜ê³ , ì„¤ì • ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ í˜„ì¬ í™œì„±í™”ëœ ì„¤ì •ì„ ì‹œê°í™”í•˜ëŠ” ë°©ì•ˆì„ ì¶”ê°€ ì œì•ˆí•©ë‹ˆë‹¤."

#### Marcusì˜ ì œì•ˆì— ëŒ€í•œ ì§ˆë¬¸:

> "Vault ì˜ì¡´ì„±ì´ ì¶”ê°€ë˜ë©´ ì‹œìŠ¤í…œ ë³µì¡ë„ê°€ ì¦ê°€í•©ë‹ˆë‹¤. í˜„ì¬ PRISM Writer ê·œëª¨ì—ì„œ ì´ ë ˆë²¨ì˜ ë³´ì•ˆì´ í•„ìš”í• ê¹Œìš”?"

**Marcus ì‘ë‹µ**:

> "í˜„ì¬ ê·œëª¨ì—ì„œëŠ” ê³¼í•  ìˆ˜ ìˆì§€ë§Œ, API í‚¤ ì¤‘ì•™í™”ì™€ ê°ì‚¬ ë¡œê¹…ë§Œì´ë¼ë„ ë¨¼ì € ì ìš©í•˜ê³  VaultëŠ” í™•ì¥ ì‹œ ë„ì…í•˜ëŠ” ì ì§„ì  ì ‘ê·¼ì„ ì œì•ˆí•©ë‹ˆë‹¤."

#### Emmaì˜ ì œì•ˆì— ëŒ€í•œ ì§ˆë¬¸:

> "ë¹„ìš© ê¸°ë°˜ ìë™ ì„ íƒì´ í’ˆì§ˆ ì €í•˜ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì˜ˆì‚° ë•Œë¬¸ì— ì €í’ˆì§ˆ ëª¨ë¸ì„ ë°›ê²Œ ëœë‹¤ë©´ ì„œë¹„ìŠ¤ ì‹ ë¢°ë„ì— ì˜í–¥ì´ ìˆì§€ ì•Šì„ê¹Œìš”?"

**Emma ì‘ë‹µ**:

> "ë§ìŠµë‹ˆë‹¤. ìµœì†Œ í’ˆì§ˆ ì„ê³„ê°’(Quality Floor)ì„ ì„¤ì •í•˜ì—¬ í•´ë‹¹ ì„ê³„ê°’ ì´í•˜ì˜ ëª¨ë¸ì€ ì„ íƒë˜ì§€ ì•Šë„ë¡ ê°€ë“œë ˆì¼ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤."

---

## ğŸŒ Enterprise ë ˆí¼ëŸ°ìŠ¤ ì¡°ì‚¬

### 1. **OpenAI - Model Gateway Pattern**

- **êµ¬í˜„**: ëª¨ë“  ëª¨ë¸ ìš”ì²­ì´ ë‹¨ì¼ Gateway ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µê³¼
- **ì¥ì **: ì‚¬ìš©ëŸ‰ ì¶”ì , ì†ë„ ì œí•œ, ë²„ì €ë‹ ì¤‘ì•™í™”
- **ì ìš© ê°€ëŠ¥ ìš”ì†Œ**: Gateway íŒ¨í„´ (í˜„ì¬ `gateway.ts` í™•ì¥)

### 2. **Anthropic - Constitution-Based Configuration**

- **êµ¬í˜„**: ê° ëª¨ë¸ì˜ "í—Œë²•"(ì œì•½ ì¡°ê±´)ì„ ì¤‘ì•™ ì •ì˜
- **ì¥ì **: ì•ˆì „ì„±ê³¼ ì¼ê´€ì„± ë³´ì¥
- **ì ìš© ê°€ëŠ¥ ìš”ì†Œ**: ëª¨ë¸ë³„ ì œì•½ ì¡°ê±´ ì¤‘ì•™ ê´€ë¦¬

### 3. **Google Cloud - Vertex AI Model Registry**

- **êµ¬í˜„**: ëª¨ë“  ML ëª¨ë¸ì„ ë‹¨ì¼ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ë²„ì „ ê´€ë¦¬
- **ì¥ì **: ëª¨ë¸ ë¼ì´í”„ì‚¬ì´í´ ì¶”ì , ë°°í¬ ì´ë ¥ ê´€ë¦¬
- **ì ìš© ê°€ëŠ¥ ìš”ì†Œ**: ëª¨ë¸ ë²„ì „ ê´€ë¦¬ ë° ì´ë ¥ ì¶”ì 

### 4. **AWS Bedrock - Unified API Layer**

- **êµ¬í˜„**: ë©€í‹° í”„ë¡œë°”ì´ë”(Anthropic, Meta, Cohere ë“±)ë¥¼ ë‹¨ì¼ APIë¡œ ì¶”ìƒí™”
- **ì¥ì **: í”„ë¡œë°”ì´ë” ë…ë¦½ì  ì½”ë“œ ì‘ì„± ê°€ëŠ¥
- **ì ìš© ê°€ëŠ¥ ìš”ì†Œ**: Provider ì¶”ìƒí™” (í˜„ì¬ `providers/` í™•ì¥)

### 5. **LangChain - Model Factory Pattern**

- **êµ¬í˜„**: `ChatOpenAI`, `ChatAnthropic` ë“±ì„ Factoryë¡œ ìƒì„±
- **ì¥ì **: ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤, ì‰¬ìš´ ì „í™˜
- **ì ìš© ê°€ëŠ¥ ìš”ì†Œ**: Factory íŒ¨í„´ì„ í†µí•œ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬

### 6. **Stripe - Feature Flag ê¸°ë°˜ ëª¨ë¸ ì „í™˜**

- **êµ¬í˜„**: LaunchDarklyì™€ ì—°ë™í•˜ì—¬ ëª¨ë¸ì„ Feature Flagë¡œ ì œì–´
- **ì¥ì **: ì ì§„ì  ë¡¤ì•„ì›ƒ, ì¦‰ì‹œ ë¡¤ë°± ê°€ëŠ¥
- **ì ìš© ê°€ëŠ¥ ìš”ì†Œ**: `featureFlags.ts` í™•ì¥í•˜ì—¬ ëª¨ë¸ í”Œë˜ê·¸ ì¶”ê°€

---

## ğŸ“Š ë ˆí¼ëŸ°ìŠ¤ í†µí•© ì‹œë„ˆì§€ ë¶„ì„

| ë ˆí¼ëŸ°ìŠ¤               | í•µì‹¬ íŒ¨í„´       | PRISM Writer ì ìš© ìš°ì„ ìˆœìœ„        |
| ---------------------- | --------------- | --------------------------------- |
| OpenAI Gateway         | ë‹¨ì¼ ì§„ì…ì      | ğŸŸ¢ **ì´ë¯¸ ì ìš©ë¨** (`gateway.ts`) |
| Vertex AI Registry     | ì¤‘ì•™ ë ˆì§€ìŠ¤íŠ¸ë¦¬ | ğŸŸ¢ **ë¶€ë¶„ ì ìš©ë¨** (`models.ts`)  |
| AWS Bedrock            | Provider ì¶”ìƒí™” | ğŸŸ¢ **ì´ë¯¸ ì ìš©ë¨** (`providers/`) |
| LangChain Factory      | ëª¨ë¸ íŒ©í† ë¦¬     | ğŸŸ¡ í™•ì¥ í•„ìš”                      |
| Stripe Feature Flags   | ë™ì  ì „í™˜       | ğŸŸ¡ í™•ì¥ í•„ìš”                      |
| Anthropic Constitution | ì œì•½ ê´€ë¦¬       | ğŸ”´ í–¥í›„ ê²€í†                       |

---

## ğŸ† ìµœì¢… ì•„í‚¤í…ì²˜ ì œì•ˆ: Unified LLM Configuration Hub

ëª¨ë“  ì „ë¬¸ê°€ ì˜ê²¬ê³¼ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì¢…í•©í•œ **í†µí•© ì„¤ê³„ì•ˆ**:

```
config/
â”œâ”€â”€ models.ts                    # (ê¸°ì¡´) ëª¨ë¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬
â”œâ”€â”€ embedding-models.ts          # (ê¸°ì¡´) ì„ë² ë”© ëª¨ë¸
â”œâ”€â”€ llm.config.ts               # (ê¸°ì¡´) í™˜ê²½ ì„¤ì •
â””â”€â”€ llm-usage-map.ts            # [NEW] ì„œë¹„ìŠ¤ë³„ ëª¨ë¸ ë§¤í•‘ (í•µì‹¬!)
```

### í•µì‹¬ ì‹ ê·œ íŒŒì¼: `llm-usage-map.ts`

```typescript
// =============================================================================
// PRISM Writer - LLM Usage Map (ì¤‘ì•™í™”ëœ ì„œë¹„ìŠ¤-ëª¨ë¸ ë§¤í•‘)
// =============================================================================

import { getDefaultModelId } from "./models";

export type LLMUsageContext =
  | "rag.answer" // RAG ë‹µë³€ ìƒì„±
  | "rag.reviewer" // RAG ê²€í† ì
  | "rag.reranker" // ê²€ìƒ‰ ê²°ê³¼ ì¬ìˆœìœ„
  | "template.extraction" // í…œí”Œë¦¿ ì¶”ì¶œ
  | "template.regression" // í…œí”Œë¦¿ íšŒê·€ ê²€ì‚¬
  | "example.mining" // ì˜ˆì‹œ ë§ˆì´ë‹
  | "rule.mining" // ê·œì¹™ ë§ˆì´ë‹
  | "judge.evaluation"; // í’ˆì§ˆ í‰ê°€

export interface UsageConfig {
  modelId: string;
  fallback?: string;
  maxTokens?: number;
  description: string;
}

/**
 * ğŸ¯ ì„œë¹„ìŠ¤ë³„ LLM ëª¨ë¸ ë§¤í•‘ - í•œëˆˆì— í™•ì¸ ê°€ëŠ¥!
 *
 * ì´ íŒŒì¼ í•˜ë‚˜ë¡œ ëª¨ë“  ê¸°ëŠ¥ì˜ LLM ëª¨ë¸ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
 * ëª¨ë¸ ë³€ê²½ì´ í•„ìš”í•˜ë©´ ì´ íŒŒì¼ë§Œ ìˆ˜ì •í•˜ì„¸ìš”.
 */
export const LLM_USAGE_MAP: Record<LLMUsageContext, UsageConfig> = {
  // -------------------------------------------------------------------------
  // RAG Pipeline
  // -------------------------------------------------------------------------
  "rag.answer": {
    modelId: "gemini-3-flash-preview",
    fallback: "gpt-5-mini-2025-08-07",
    maxTokens: 2000,
    description: "RAG ê¸°ë°˜ ë‹µë³€ ìƒì„±",
  },
  "rag.reviewer": {
    modelId: "gemini-3-flash-preview",
    fallback: undefined, // ë¦¬ë·°ì–´ ì‹¤íŒ¨ ì‹œ ìŠ¤í‚µ
    maxTokens: 500,
    description: "RAG ë‹µë³€ í’ˆì§ˆ ê²€í† ",
  },
  "rag.reranker": {
    modelId: "gemini-3-flash-preview",
    description: "ê²€ìƒ‰ ê²°ê³¼ ì¬ìˆœìœ„ ì§€ì •",
  },

  // -------------------------------------------------------------------------
  // Template System
  // -------------------------------------------------------------------------
  "template.extraction": {
    modelId: "gemini-3-flash-preview",
    description: "ë¬¸ì„œì—ì„œ í…œí”Œë¦¿ ì¶”ì¶œ",
  },
  "template.regression": {
    modelId: "gemini-3-flash-preview",
    description: "í…œí”Œë¦¿ íšŒê·€ ê²€ì‚¬",
  },

  // -------------------------------------------------------------------------
  // Mining Features
  // -------------------------------------------------------------------------
  "example.mining": {
    modelId: "gemini-3-flash-preview",
    description: "ì˜ˆì‹œ ë¬¸ì¥ ë§ˆì´ë‹",
  },
  "rule.mining": {
    modelId: "gemini-3-flash-preview",
    description: "ë¬¸ë²•/ìŠ¤íƒ€ì¼ ê·œì¹™ ë§ˆì´ë‹",
  },

  // -------------------------------------------------------------------------
  // Quality Assurance
  // -------------------------------------------------------------------------
  "judge.evaluation": {
    modelId: "gemini-3-flash-preview",
    description: "ì½˜í…ì¸  í’ˆì§ˆ í‰ê°€",
  },
};

// =============================================================================
// ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
// =============================================================================

export function getModelForUsage(context: LLMUsageContext): string {
  return LLM_USAGE_MAP[context]?.modelId ?? getDefaultModelId();
}

export function getFallbackModel(context: LLMUsageContext): string | undefined {
  return LLM_USAGE_MAP[context]?.fallback;
}

export function getAllUsageContexts(): LLMUsageContext[] {
  return Object.keys(LLM_USAGE_MAP) as LLMUsageContext[];
}

// ë””ë²„ê·¸ìš©: í˜„ì¬ ëª¨ë¸ ë§¤í•‘ ìƒíƒœ ì¶œë ¥
export function printUsageMap(): void {
  console.log("\nğŸ“‹ LLM Usage Map:");
  console.log("================");
  for (const [context, config] of Object.entries(LLM_USAGE_MAP)) {
    console.log(
      `  ${context}: ${config.modelId}${
        config.fallback ? ` (fallback: ${config.fallback})` : ""
      }`
    );
  }
}
```

---

## ğŸ—³ï¸ íˆ¬í‘œ

### ì§ˆë¬¸: ìœ„ í†µí•© ì•„í‚¤í…ì²˜ë¥¼ ì±„íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?

| íˆ¬í‘œì           | ì°¬ì„±/ë°˜ëŒ€        | ì½”ë©˜íŠ¸                          |
| ---------------- | ---------------- | ------------------------------- |
| ğŸ”µ Dr. Alex Chen | âœ… ì°¬ì„±          | "ì—­í•  ê¸°ë°˜ ì¶”ìƒí™”ê°€ ì˜ ë°˜ì˜ë¨"  |
| ğŸŸ¢ Sarah Kim     | âœ… ì°¬ì„±          | "Fallback ì§€ì›ì´ í¬í•¨ë˜ì–´ ë§Œì¡±" |
| ğŸŸ¡ Marcus Lee    | âœ… ì°¬ì„± (ì¡°ê±´ë¶€) | "ê°ì‚¬ ë¡œê¹… ì¶”ê°€ ê¶Œì¥"           |
| ğŸŸ£ Dr. Emma Park | âœ… ì°¬ì„±          | "ë¹„ìš© ì¶”ì  ì—°ë™ ìš©ì´"           |
| ğŸ”´ James Wang    | âœ… ì°¬ì„±          | "ë ˆë“œíŒ€ ê²€ì¦ í†µê³¼"              |

**ìµœì¢… ê²°ê³¼**: âœ… **ë§Œì¥ì¼ì¹˜ ì±„íƒ**

---

## ğŸ“ ê²°ë¡  ë° ì‹¤í–‰ ê³„íš

### âœ… ê²°ë¡ 

1. **ê°€ëŠ¥ì„± í™•ì¸**: LLM ëª¨ë¸ ì¤‘ì•™í™”ëŠ” ê¸°ìˆ ì ìœ¼ë¡œ **ê°€ëŠ¥í•˜ë©° ê¶Œì¥ë¨**
2. **í˜„ì¬ ìƒíƒœ**: PRISM WriterëŠ” ì´ë¯¸ **ë¶€ë¶„ì ìœ¼ë¡œ ì¤‘ì•™í™”**ë˜ì–´ ìˆìŒ (`config/models.ts`, `gateway.ts`)
3. **ê°œì„  í•„ìš”**: RAG ëª¨ë“ˆ ë‚´ í•˜ë“œì½”ë”©ëœ ëª¨ë¸ ì°¸ì¡°ë¥¼ ì¤‘ì•™ ì„¤ì •ìœ¼ë¡œ **ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”**

### ğŸ¯ ì¤‘ì•™í™”ì˜ í•µì‹¬ ì¥ì 

| ì¥ì           | ì„¤ëª…                               | ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ |
| ------------- | ---------------------------------- | ------------- |
| **ê°€ì‹œì„±**    | ëª¨ë“  LLM ì‚¬ìš©ì²˜ë¥¼ í•œ íŒŒì¼ì—ì„œ í™•ì¸ | ê´€ë¦¬ íš¨ìœ¨ â†‘   |
| **ì¼ê´€ì„±**    | ëª¨ë¸ ë³€ê²½ ì‹œ ëˆ„ë½ ë°©ì§€             | ë²„ê·¸ ê°ì†Œ â†“   |
| **ìœ ì—°ì„±**    | í™˜ê²½ë³„/í‹°ì–´ë³„ ë‹¤ë¥¸ ëª¨ë¸ ì ìš© ìš©ì´  | ì‹¤í—˜ ì†ë„ â†‘   |
| **ë¹„ìš© ì œì–´** | ëª¨ë¸ë³„ ë¹„ìš©ì„ í•œê³³ì—ì„œ ì¶”ì         | ë¹„ìš© ì ˆê° â†“   |
| **ë³´ì•ˆ**      | API í‚¤ ë° ì ‘ê·¼ ê´€ë¦¬ ì¤‘ì•™í™”         | ë³´ì•ˆ ê°•í™” â†‘   |

### ğŸš€ ì‹¤í–‰ ê³„íš (Action Items)

#### Phase 1: ì¤‘ì•™ ë§¤í•‘ íŒŒì¼ ìƒì„± (1ì¼)

- [ ] `config/llm-usage-map.ts` íŒŒì¼ ìƒì„±
- [ ] ëª¨ë“  `LLMUsageContext` ì—´ê±° ë° ë§¤í•‘ ì •ì˜
- [ ] ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ êµ¬í˜„

#### Phase 2: RAG ëª¨ë“ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ (2ì¼)

- [ ] `rag/reranker.ts` - í•˜ë“œì½”ë”© ì œê±°, `getModelForUsage('rag.reranker')` ì‚¬ìš©
- [ ] `rag/templateGates.ts` - ëª¨ë“  ëª¨ë¸ ì°¸ì¡° ì¤‘ì•™í™”
- [ ] `rag/exampleMiner.ts` - ì¤‘ì•™ ì„¤ì • ì°¸ì¡°ë¡œ ë³€ê²½
- [ ] `rag/ruleMiner.ts` - ì¤‘ì•™ ì„¤ì • ì°¸ì¡°ë¡œ ë³€ê²½
- [ ] `types/rag.ts` - `RouterConfig`ì—ì„œ ì¤‘ì•™ ì„¤ì • import

#### Phase 3: ê²€ì¦ ë° ë¬¸ì„œí™” (1ì¼)

- [ ] ê¸°ì¡´ ê¸°ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸
- [ ] ê°œë°œì ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] `printUsageMap()` í†µí•œ í˜„ì¬ ìƒíƒœ ë¡œê¹…

---

## ğŸ“š ë¶€ë¡: ì°¸ê³  ìë£Œ

### ëŒ€ê¸°ì—… ì¤‘ì•™í™” ì‚¬ë¡€

- [OpenAI API Best Practices](https://platform.openai.com/docs/guides/production-best-practices)
- [Google Cloud Vertex AI Model Registry](https://cloud.google.com/vertex-ai/docs/model-registry/introduction)
- [AWS Bedrock Multi-Model Inference](https://aws.amazon.com/bedrock/)
- [LangChain Model Factory Documentation](https://python.langchain.com/docs/concepts/chat_models/)

---

**íšŒì˜ ì¢…ë£Œ**: 11:50 KST  
**ë‹¤ìŒ íšŒì˜**: ì‹¤í–‰ ê³„íš Phase 1 ì™„ë£Œ í›„ ë¦¬ë·° ë¯¸íŒ… ì˜ˆì •

---

_ì´ ë¬¸ì„œëŠ” prismLM ê¸°ìˆ  ì•„í‚¤í…ì²˜ íšŒì˜ì˜ ê³µì‹ íšŒì˜ë¡ì…ë‹ˆë‹¤._
